<div>
  <button id="start">Click Here to listen to a very importan message regarding your Crypto portfolio</button>
  <h2 id="currentSlide"></h2>


  <script type="text/javascript">
    (async () => {

      const $startButton = document.getElementById('start')
      const $currentSlide = document.getElementById('currentSlide')

      const slides = [
        `Are you sick and tired of watching all your friends get rich on Non Finguble TOken (NFT) investments?`,
        `Do you CONSTANTLY let crypto ALPHA pass you by?`,
        `If you answered yes to these two questions, then you're not alone`,
        `Thousands of crypto investors suffer from (F)ear, (U)ncertainty, and (D)oubt, also known as FUD, every day`,
        `If you want to learn the one investment trick that professional Crypto Investors don't want you to know about, then don't leave this page!`,
        `Click this button`
      ]

      let currentSlideIx = 0

      async function playSlides() {
        const voices = await getVoices()
        $startButton.style.display = 'none'
        const interval = setInterval(() => {
          if (currentSlideIx > slides.length-1) return clearInterval(interval)
          if (window.speechSynthesis.speaking) return

          const currentSlide = slides[currentSlideIx]
          $currentSlide.innerHTML = currentSlide
          const utterance = new window.SpeechSynthesisUtterance(currentSlide)
          utterance.voice = voices[67]
          window.speechSynthesis.speak(utterance)

          currentSlideIx++
        }, 50)
      }

      function getVoices() {
        return new Promise(res => {
          const interval = setInterval(() => {
            const voices = window.speechSynthesis.getVoices()
            if (voices.length) {
              clearInterval(interval)
              res(voices)
            }
          }, 100)
        })
      }
      // const speak = () => {
      //   console.log('start')
      //   const interval = setInterval(() => {
      //     console.log('.')
      //     const voices = window.speechSynthesis.getVoices()

      //     if (voices.length) {
      //       clearInterval(interval)
      //       const utterance = new window.SpeechSynthesisUtterance(` click this button to learn the one investment trick that professional Crypto Investors don't want you to know about!`)
      //       utterance.voice = voices[67]
      //       window.speechSynthesis.speak(utterance)
      //       console.log()
      //     }
      //   }, 100)
      // }

      $startButton.addEventListener('click', playSlides)
    })()
  </script>
</div>